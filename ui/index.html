<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>OneNote UI Clone</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body {
      background-color: #1e1e1e;
      color: #fff;
      height: 100vh;
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      overflow: hidden;
    }
    .topbar {
      height: 40px;
      background-color: #1e1e1e;
      padding: 0 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid #333;
    }
    .topbar span {
      color: #fff;
      margin-right: 20px;
      font-size: 14px;
      cursor: pointer;
    }
    .sidebar {
      width: 250px;
      background-color: #1e1e1e;
      padding-top: 10px;
      transition: width 0.3s;
    }
    .sidebar.collapsed {
      width: 60px;
    }
    .sidebar.collapsed .text-label {
      display: none;
    }
    .notebook-toggle {
      cursor: pointer;
    }
    .notebook-item, .section-item {
      display: flex;
      align-items: center;
      padding: 8px 12px;
      font-weight: 500;
      color: white;
      border-radius: 6px;
    }
    .notebook-item i {
      margin-right: 10px;
      color: #ffb347;
    }
    .section-item {
      background-color: #2b2b2e;
      margin: 6px 12px;
      justify-content: space-between;
    }
    .section-item .left {
      display: flex;
      align-items: center;
    }
    .color-bar {
      width: 5px;
      height: 20px;
      margin-right: 10px;
      border-radius: 4px;
    }
    .new-section {
      padding-left: 34px;
      margin: 12px 0;
      color: #b3b3b3;
      cursor: pointer;
    }
    .page-list {
      width: 260px;
      background-color: #2d2d30;
      padding: 12px;
    }
    .page-item {
      position: relative;
      background-color: #3c3c3f;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
      margin-bottom: 10px;
    }
    .page-item:hover .delete-btn {
      display: block;
    }
    .delete-btn {
      display: none;
      position: absolute;
      top: 4px;
      right: 4px;
      color: #bbb;
      cursor: pointer;
    }
    .main-content {
      flex-grow: 1;
      background-color: #1e1e1e;
      padding: 20px;
      color: #ccc;
    }
    .search-bar {
      background-color: #333;
      border: none;
      color: white;
      padding: 4px 8px;
      border-radius: 6px;
      width: 220px;
    }
    .edit-input {
      background: transparent;
      border: none;
      color: #fff;
      outline: none;
      width: 100px;
    }
    #notebookArrow {
  transition: transform 0.3s ease;
}

#notebookArrow.rotate {
  transform: rotate(-180deg);
}

  </style>
</head>
<body>
  <!-- Topbar -->
  <div class="topbar">
    <div class="d-flex align-items-center">
      <span>File</span><span>Home</span><span>Insert</span><span>Draw</span><span>History</span><span>Review</span><span>View</span><span>Help</span>
    </div>
    <div class="d-flex align-items-center gap-2">
      <button class="btn btn-sm btn-outline-light"><i class="bi bi-stickies"></i> Sticky Notes</button>
      <button class="btn btn-sm btn-outline-light"><i class="bi bi-share"></i> Share</button>
      <i class="bi bi-person-circle text-white fs-5 ms-2"></i>
    </div>
  </div>

  <!-- Layout -->
  <div class="d-flex" style="height: calc(100vh - 40px);">
    <!-- Sidebar -->
    <div id="sidebar" class="sidebar">
      <div class="px-3 mb-3 d-flex justify-content-between align-items-center">
        <i class="bi bi-list text-white fs-5 notebook-toggle" onclick="toggleSidebar()"></i>
        <i class="bi bi-caret-down-fill text-white fs-6 notebook-toggle" onclick="toggleNotebook()" title="Collapse Notebook"></i>
      </div>
      <div class="px-3" id="notebookContainer">
        <div class="notebook-item mb-2" onclick="toggleNotebookDropdown()">
  <i class="bi bi-journal-bookmark-fill"></i>
  <span class="text-label">My Notebook</span>
  <i class="bi bi-chevron-down ms-auto text-label" id="notebookArrow"></i>
</div>
<div id="sectionList" class="collapse show">
  <div class="section-item">
            <div class="left">
              <div class="color-bar" style="background-color:#00aaff"></div>
              <input class="edit-input" value="Quick Notes"/>
            </div>
            <i class="bi bi-trash" onclick="this.parentElement.remove()" title="Delete"></i>
          </div>
        </div>
      </div>
      <div class="new-section" onclick="addSection()">
        <i class="bi bi-plus-circle me-2"></i> <span class="text-label">New Section</span>
      </div>
    </div>

    <!-- Page List -->
    <div class="page-list" id="pageList">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <button class="btn btn-sm" style="border: 1px solid #6e5693; color: #c8a2ff;" onclick="addPage()">
          <i class="bi bi-pencil-square me-1"></i> Add Page
        </button>
        <i class="bi bi-filter text-white-50 fs-5" style="cursor: pointer;"></i>
      </div>
      <div class="page-item" contenteditable="true" onclick="loadPage(this)">Untitled Page
        <i class="bi bi-x-lg delete-btn" onclick="deletePage(event, this)"></i>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <div class="text-muted" id="dateTimeDisplay"></div>
        <div class="d-flex align-items-center">
          <input type="text" class="search-bar me-2" placeholder="Search Notebooks" />
          <i class="bi bi-arrows-angle-expand text-white-50" title="Expand View"></i>
        </div>
      </div>
      <div contenteditable="true" class="border rounded p-3" id="editor" style="min-height: 400px; background-color: #2b2b2e;">
        Start typing your note here...
      </div>
    </div>
  </div>

  <script>
  const sectionColors = ['#ff6f61', '#6b5b95', '#88b04b', '#f7cac9', '#92a8d1'];
  let sectionCount = 1;
  let sectionData = {};
  let currentSectionId = null;
  let currentPageElement = null;
  let timestampInserted = false;

  // Add new section
  function addSection() {
    const sectionId = `section-${Date.now()}`;
    const color = sectionColors[sectionCount % sectionColors.length];

    const section = document.createElement('div');
    section.className = 'section-item';
    section.setAttribute('data-section-id', sectionId);
    section.innerHTML = `
      <div class="left" onclick="selectSection('${sectionId}', this)">
        <div class="color-bar" style="background-color:${color}"></div>
        <input class="edit-input" value="New Section ${sectionCount}"/>
      </div>
      <i class="bi bi-trash" onclick="deleteSection(this)" title="Delete"></i>
    `;
    document.getElementById('sectionList').appendChild(section);

    // Create default page
    sectionData[sectionId] = [{
      title: "Untitled Page",
      content: "",
      timestamp: ""
    }];

    sectionCount++;
    selectSection(sectionId, section.querySelector('.left'));
  }

  // Select section
  function selectSection(sectionId, element) {
    currentSectionId = sectionId;
    currentPageElement = null;
    timestampInserted = false;

    // Highlight active section
    document.querySelectorAll('.section-item').forEach(el => {
      el.classList.remove('bg-secondary');
    });
    element.parentElement.classList.add('bg-secondary');

    renderPageList();
    if (sectionData[sectionId].length > 0) {
      loadPageFromData(0);
    } else {
      document.getElementById('editor').innerHTML = '';
      document.getElementById('dateTimeDisplay').innerHTML = '';
    }
  }

  // Delete section
  function deleteSection(icon) {
    const section = icon.parentElement;
    const sectionId = section.getAttribute('data-section-id');
    const confirmDelete = confirm("üóëÔ∏è Are you sure you want to delete this section?");
    
    if (confirmDelete) {
      if (currentSectionId === sectionId) {
        document.getElementById('editor').innerHTML = '';
        document.getElementById('dateTimeDisplay').innerHTML = '';
        currentSectionId = null;
        currentPageElement = null;
      }

      delete sectionData[sectionId];
      section.remove();
      document.getElementById('pageList').innerHTML = `
        <div class="d-flex justify-content-between align-items-center mb-3">
          <button class="btn btn-sm" style="border: 1px solid #6e5693; color: #c8a2ff;" onclick="addPage()">
            <i class="bi bi-pencil-square me-1"></i> Add Page
          </button>
          <i class="bi bi-filter text-white-50 fs-5" style="cursor: pointer;"></i>
        </div>
      `;
    }
  }

  // Render page list
  function renderPageList() {
    const container = document.getElementById('pageList');
    const pages = sectionData[currentSectionId];

    container.innerHTML = `
      <div class="d-flex justify-content-between align-items-center mb-3">
        <button class="btn btn-sm" style="border: 1px solid #6e5693; color: #c8a2ff;" onclick="addPage()">
          <i class="bi bi-pencil-square me-1"></i> Add Page
        </button>
        <i class="bi bi-filter text-white-50 fs-5" style="cursor: pointer;"></i>
      </div>
    `;

    pages.forEach((page, index) => {
      const div = document.createElement('div');
      div.className = 'page-item';
      div.innerHTML = `${page.title}<i class="bi bi-x-lg delete-btn" onclick="deletePage(event, ${index})"></i>`;
      div.onclick = () => loadPageFromData(index);
      container.appendChild(div);
    });
  }

  // Load page into editor
  function loadPageFromData(index) {
    currentPageElement = index;
    const page = sectionData[currentSectionId][index];
    document.getElementById('editor').innerHTML = page.content || 'Start typing your note here...';
    document.getElementById('dateTimeDisplay').innerHTML = page.timestamp || getCurrentDateTime();
    timestampInserted = !!page.timestamp;
  }

  // Add new page
  function addPage() {
    if (!currentSectionId) return;

    sectionData[currentSectionId].push({
      title: "Untitled Page",
      content: "",
      timestamp: ""
    });

    renderPageList();
    loadPageFromData(sectionData[currentSectionId].length - 1);
  }

  // Delete page
  function deletePage(event, index) {
    event.stopPropagation();
    sectionData[currentSectionId].splice(index, 1);
    renderPageList();
    document.getElementById('editor').innerHTML = '';
    document.getElementById('dateTimeDisplay').innerHTML = '';
    currentPageElement = null;
    timestampInserted = false;
  }

  // Editor typing logic
  document.getElementById('editor').addEventListener('input', function () {
    if (!currentSectionId || currentPageElement === null) return;

    const lines = this.innerText.trim().split('\n');
    const headline = lines[0] || "Untitled Page";

    sectionData[currentSectionId][currentPageElement].title = headline;

    if (!timestampInserted && headline.length > 0) {
      timestampInserted = true;
      const time = getCurrentDateTime();
      sectionData[currentSectionId][currentPageElement].timestamp = time;
      this.innerHTML = `<div>${headline}</div>
        <div style="margin-top: 4px; color: #aaa; border-top: 1px solid #555; padding-top: 6px;">
        ${time}</div><br>`;
      placeCaretAtEnd(this);
    }

    sectionData[currentSectionId][currentPageElement].content = this.innerHTML;
    renderPageList();
  });

  // Get current date/time
  function getCurrentDateTime() {
    const now = new Date();
    return now.toLocaleString();
  }

  // Caret position
  function placeCaretAtEnd(el) {
    el.focus();
    if (typeof window.getSelection != "undefined"
        && typeof document.createRange != "undefined") {
      const range = document.createRange();
      range.selectNodeContents(el);
      range.collapse(false);
      const sel = window.getSelection();
      sel.removeAllRanges();
      sel.addRange(range);
    }
  }

  // Initialize with one section
  window.onload = () => {
    addSection();
  };
  function toggleSidebar() {
  const sidebar = document.getElementById('sidebar');
  sidebar.classList.toggle('collapsed');
}
function toggleNotebookDropdown() {
  const sectionList = document.getElementById('sectionList');
  const arrow = document.getElementById('notebookArrow');

  if (sectionList.classList.contains('show')) {
    sectionList.classList.remove('show');
    arrow.classList.remove('rotate');
  } else {
    sectionList.classList.add('show');
    arrow.classList.add('rotate');
  }
}


</script>
</body>
</html>
